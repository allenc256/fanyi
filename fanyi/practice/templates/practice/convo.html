{% extends "./base.html" %}

{% load static %}

{% block title %}Conversation: {{ convo.name }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{% static 'practice/convo.css' %}">
{% endblock %}

{% block body %}
    <h1>Conversation: {{ convo.name }}</h1>
    <div class="container-fluid">
        {% for sent in sents %}
        <div class="row">
            <div class="speaker-col col-1-auto speaker speaker-{{ sent.speaker_idx }}">
                {{ sent.speaker }}:
            </div>
            <div class="content-col col">
                <div id="heading-{{ sent.id }}">
                    <button class="text_en btn-link" data-toggle="collapse" data-target="#collapse-{{ sent.id }}" aria-expanded="false" aria-controls="collapse-{{ sent.id }}">
                        {{ sent.text_en }}
                    </button>
                </div>
                <div id="collapse-{{ sent.id }}" class="collapse" aria-labelledby="heading-{{ sent.id }}">
                    <div class="text_cn">
                        {{ sent.text_cn_traditional }}
                    </div>
                    <div class="text_pinyin">
                        {{ sent.text_cn_pinyin }}
                    </div>
                </div>
            </div>
        </div>    
        {% endfor %}
    </div>

    {% if prev_convo_id %}
        <a class="btn btn-info" href="{% url 'practice:convo' prev_convo_id %}">Prev</a>
    {% else %}
        <input type="button" class="btn btn-info" value="Prev" disabled/>
    {% endif %}
    {% if next_convo_id %}
        <a class="btn btn-info" href="{% url 'practice:convo' next_convo_id %}">Next</a>
    {% else %}
        <input type="button" class="btn btn-info" value="Next" disabled/>
    {% endif %}
    <a class="btn btn-info" href="{% url 'practice:convo_first' %}">First</a>
    <a class="btn btn-info" href="{% url 'practice:convo_last' %}">Last</a>
    <a class="btn btn-info" href="{% url 'practice:convo_random' %}">Random</a>

    <div class="date-viewed">
        Last viewed: {{ date_viewed }}
    </div>
{% endblock %}